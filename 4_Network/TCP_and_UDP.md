# TCP & UDP

TCP/IP의 전송 계층에서 사용되는 프로토콜  
데이터의 전달을 담당하며 전달되는 패킷의 오류를 검사하고 재전송 요구 등의 제어를 담당  
 <br/>

## 1. TCP

Transmission Control Protocol  
 <br/>

### 개념

- **연결 지향적 프로토콜** (클라이언트와 서버가 연결된 상태에서 데이터를 주고받음)
- 장치들 사이에 논리적인 접속을 성립하기 위해 연결을 설정해 신뢰성을 보장하는 연결형 서비스
- 네트워크에 연결된 컴퓨터에서 실행되는 프로그램 간에 일련의 옥텟(데이터, 메시지, 세그먼트라는 블록 단위)을
  안정적으로, 순서대로, 에러 없이 교환할 수 있게 한다.  
   <br/>

### 특징

1. 연결형 서비스로 가상 회선 방식을 제공
- 3-way handshaking 과정을 통해 연결을 설정하고,
- 4-way handshaking 과정을 통해 연결을 해제한다.  
  
2. 흐름 제어(Flow control)
- 데이터 처리 속도를 조절하여 수신자의 버퍼 오버플로우를 방지

3. 혼잡 제어(Congestion control)
- 네트워크 내의 패킷 수가 과도하게 증가하지 않도록 방지
  
4. 높은 신뢰성을 보장
- 신뢰성이 높은 전송을 하기 때문에 UDP보다 속도가 느림

5. Full-Duplex, Point to Point 방식
- Full-Duplex: 전송이 양방향으로 동시에 일어날 수 있다.
- Point to Point: 각 연결이 정확히 2개의 종단점을 가지고 있다.  
  <br/>  

#### 요약

가상 회선 방식은 발신지와 수신지를 연결하여 패킷을 전송하기 위한 논리적 경로를 배정한다.  
3-way handshaking 과정은 발신지와 수신지 사이에 논리적인 접속(세션)을 성립하는 과정을 의미한다.  
TCP는 연결형 서비스로, 신뢰성을 보장하기 때문에 3-way handshaking의 과정, 데이터의 흐름 제어나 혼잡 제어와 같은 기능을 한다. 하지만 이러한 기능 때문에 UDP보다 속도가 느리다.  
그렇기에 TCP는 연속성보다 신뢰성 있는 전송이 중요할 때 사용하는 프로토콜로 파일 전송과 같은 경우에 사용된다.  
 <br/>

## 2. UDP

User Datagram Protocal  
 <br/>

### 개념

- **비연결형 프로토콜** (연결을 위해 할당되는 논리적인 경로가 없고, 각각의 패킷은 다른 경로로 전송되며, 독립적인 관계를 지님)  
  <br/>

### 특징

1. 비연결형 서비스로 데이터그램 방식을 제공한다.

- 데이터의 전송 순서가 바뀔 수 있다.
- 데이터그램의 크기는 65535byte로 크기가 초과되면 잘라서 보낸다.  
  
2. 데이터 수신 여부를 확인하지 않는다.

- TCP의 3-way handshaking과 같은 과정이 없다.  
  
3. 신뢰성이 낮다.

- 흐름 제어(flow control)가 없어서 제대로 전송되었는지, 오류가 없는지 확인할 수 없다.  
  
4. TCP보다 속도가 빠르다.  
  
5. 1:1 & 1:N & N:N 통신이 가능하다.  
  
6. UDP 헤더의 CheckSum 필드를 통해 최소한의 오류만 검출한다.  
 <br/>  

#### 요약

UDP는 비연결형 서비스이기 때문에 연결을 설정하고 해제하는 과정이 존재하지 않는다.  
서로 다른 경로로 독립적으로 처리하며, 흐름 제어 또는 혼잡 제어와 같은 기능을 처리하지 않기에 TCP보다 속도가 빠르며 네트워크 부하가 적다는 장점이 있지만, 신뢰성 있는 데이터 전송을 보장하지 못한다.  
UDP는 신뢰성보다는 연속성 있는 전송이 필요할 때 사용하는 프로토콜로 실시간 서비스(streaming)에 자주 사용된다.  
 <br/>  

## 3. TCP vs UCP

| 프로토콜 종류  |      TCP       |                 UDP                 |
| :------------: | :------------: | :---------------------------------: |
|   연결 방식    | 연결형 서비스  |           비연결형 서비스           |
| 패킷 교환 방식 | 가상 회선 방식 |           데이터그램 방식           |
|   전송 순서    | 전송 순서 보장 |       전송 순서 바뀔 수 있음        |
| 수신 여부 확인 |     확인함     |            확인하지 않음            |
|   통신 방식    |  일대일 통신   | 일대일 또는 다대일 또는 다대다 통신 |
|     신뢰성     |      높다      |                낮다                 |
|      속도      |     느리다     |               빠르다                |

  <br/>

## 참고자료

https://dev-coco.tistory.com/144
